---
name: refine
description: Periodically review patterns, promote mature patterns to ADRs, and identify coverage gaps.
---

# Refine Skill

Use this skill for periodic workflow maintenance and architecture hygiene.

## Team-awareness

Read active team config from `.codex-workflow/config/active-team.json` when present.
Use the team defaults to scope refinements to relevant issue and architecture locations.

## Modes

### Full refinement (default)

1. Review pattern health:
   - most-used patterns
   - stale patterns
   - conflicting patterns
2. Review promotion candidates:
   - high usage
   - stable usage
   - cross-feature applicability
3. Identify coverage gaps by work type.
4. Produce action list:
   - promote
   - archive
   - create missing pattern

### Promote specific pattern

1. Convert pattern into ADR draft sections:
   - context
   - decision
   - consequences
2. Create ADR draft in architecture decisions.
3. Mark pattern as promoted and link ADR.

### Archive specific pattern

1. Move pattern to archived folder.
2. Update pattern indexes/logs.
3. Record archive reason.

## Output expectations

- Concise refinement report with explicit actions and affected files.
- No heavy prose; focus on decision support.
